<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tv remote</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="border container container-hidenums">
    <div class="border" id="power"><button class="square" id="power-btn">power</button></div>
    <div class="border" id="nums-display"><button class="square" id="nums-btn" onclick="numsdisplay()">show
        nums</button></div>
    <div class="border" id="source"><button id="source-btn">source</button></div>
    <div class="border" id="nums">
      <table>
        <tr>
          <td><button id="1">1</button></td>
          <td><button id="2">2</button></td>
          <td><button id="3">3</button></td>
        </tr>
        <tr>
          <td><button id="4">4</button></td>
          <td><button id="5">5</button></td>
          <td><button id="6">6</button></td>
        </tr>
        <tr>
          <td><button id="7">7</button></td>
          <td><button id="8">8</button></td>
          <td><button id="9">9</button></td>
        </tr>
        <tr>
          <td><button id="ttx">ttx</button></td>
          <td><button id="0">0</button></td>
          <td><button id="prech">prev ch</button></td>
        </tr>
      </table>
    </div>
    <table id="vol">
      <tr>
        <td><button id="vol-up">up</button></td>
      </tr>
      <tr>
        <td><button id="vol-down">down</button></td>
      </tr>
    </table>
    <button id="mute">mute</button>

    <div class="border" id="misc">
      <table>
        <tr>
          <td><button id="A">A</button></td>
          <td><button id="B">B</button></td>
          <td><button id="C">C</button></td>
          <td><button id="D">D</button></td>
        </tr>
        <tr>
          <td><button id="settings">settings</button></td>
          <td><button id="info">info</button></td>
          <td><button id="subt">ad/subt</button></td>
          <td><button id="stop">stop</button></td>
        </tr>
        <tr>
          <td><button id="last">last</button></td>
          <td><button id="play">play</button></td>
          <td><button id="pause">pause</button></td>
          <td><button id="next">next</button></td>
        </tr>
      </table>
    </div>

    <table id="ch">
      <tr>
        <td><button id="ch-up">up</button></td>
      </tr>
      <tr>
        <td><button id="ch-down">down</button></td>
      </tr>
    </table>
    <button id="chlist">ch</button>



    <div class="border" id="dpad">
      <table>
        <tr>
          <td><button id="home">home</button></td>
          <td><button id="up">up</button></td>
          <td><button id="guide">guide</button></td>
        </tr>
        <tr>
          <td><button id="left">left</button></td>
          <td><button id="enter">enter</button></td>
          <td><button id="right">right</button></td>
        </tr>
        <tr>
          <td><button id="return">return</button></td>
          <td><button id="down">down</button></td>
          <td><button id="exit">exit</button></td>
        </tr>
      </table>
    </div>
  </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    function numsdisplay() {
      if (window.matchMedia("(orientation: portrait)"))
        var nums = document.getElementById("nums");
      var nums_btn = document.getElementById("nums-btn");
      var container = document.getElementById("contaner");
      if (nums.style.display == "block") {
        nums.style.display = "none"
        nums.style.gridArea = "";
        nums_btn.style.backgroundColor = "";
        nums_btn.style.color = "";
        document.querySelector('.container').classList.toggle("container-hidenums");
        // container.style.gridTemplateAreas = "'power-btn blank source-btn' 'vol guide ch' 'vol home ch' 'dpad dpad dpad' 'dpad dpad dpad' 'dpad dpad dpad' 'return blnk exit' 'misc misc misc' 'misc misc misc' 'misc misc misc'";
      }
      else {
        document.querySelector('.container').classList.toggle("container-hidenums");
        nums.style.display = "block";
        nums.style.gridArea = "nums";
        nums_btn.style.backgroundColor = "var(--blue-accent)";
        nums_btn.style.color = "var(--main-bg-color)";
      }
    }

    const map = new Map([
    ['power-btn', 'KEY_POWER'],
    ['source-btn', 'KEY_TV'],
    ['vol-up', 'KEY_VOLUMEUP'],
    ['vol-down', 'KEY_VOLUMEDOWN'],
    ['mute', 'KEY_MUTE'],
    ['ch', 'CH_LIST'],
    ['ch-up', 'KEY_CHANNELUP'],
    ['ch-down', 'KEY_CHANNELDOWN'],
    ['A', 'KEY_RED'],
    ['B', 'KEY_GREEN'],
    ['C', 'KEY_YELLOW'],
    ['D', 'KEY_BLUE'],
    ['settings', 'TOOLS'],
    ['info', 'KEY_INFO'],
    ['subt', 'subt----------------------------'],
    ['stop', 'STOP'],
    ['last', 'KEY_REWIND'],
    ['play', 'KEY_PLAY'],
    ['pause', 'KEY_PAUSE'],
    ['next', 'KEY_FORWARD'],
    ['1', 'KEY_1'],
    ['2', 'KEY_2'],
    ['3', 'KEY_3'],
    ['4', 'KEY_4'],
    ['5', 'KEY_5'],
    ['6', 'KEY_6'],
    ['7', 'KEY_7'],
    ['8', 'KEY_8'],
    ['9', 'KEY_9'],
    ['ttx', 'TTX/MIX'],
    ['0', 'KEY_0'],
    ['prech', 'KEY_CHANNEL'],
    ['home', 'KEY_MENU'],
    ['up', 'KEY_UP'],
    ['guide', 'MEDIA.P'],
    ['left', 'KEY_LEFT'],
    ['right', 'KEY_RIGHT'],
    ['enter', 'KEY_ENTER'],
    ['return', 'KEY_BACK'],
    ['down', 'KEY_DOWN'],
    ['exit', 'KEY_EXIT']
]);

    $(':button').click(function () {
      console.log(this.id);
      if (this.id != "nums-btn") {
        data = { "btnname": map.get(this.id) };
        fetch('/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        })
          .then((response) => response.json())
          //Then with the data from the response in JSON...
          .then((data) => {
            console.log('Success:', data);
          })
          //Then with the error genereted...
          .catch((error) => {
            console.error('Error:', error);
          });
      }
    });
  </script>
</body>

</html>